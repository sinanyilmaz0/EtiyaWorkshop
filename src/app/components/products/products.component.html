<div class="row">
  <div class="col-6">
    <h1 class="display-6">Product List</h1>
  </div>
  <div class="col-6 my-3">
    <input
      type="text"
      class="form-control"
      id="searchProductNameInput"
      placeholder="Search..."
      (keyup)="onSearchProductNameChange($event)"
      [(ngModel)]="searchProductNameInput"
    />
    <!--[value]="searchProductNameInput"-->
  </div>
</div>

<ng-template #loadingSpinner>
  <div class="d-flex justify-content-center align-items-center h-100">
    <app-loading-spinner></app-loading-spinner>
  </div>
</ng-template>

<div *ngIf="!!isLoading === false; else loadingSpinner" class="row my-3">
  <ng-container *ngIf="errorAlertMessage; else productsList">
    <div
      class="alert alert-danger"
      role="alert"
      [innerText]="errorAlertMessage"
    >
    </div>
  </ng-container>

  <ng-template #productsList>
    <ng-template
      ngFor
      let-product
      [ngForOf]="filteredProducts"
      *ngIf="filteredProducts.length > 0; else noItems"
    >
      <div
        *ngIf="isProductCardShow(product); else productDiscontinued"
        [class]="productCardClass"
      >
        <div class="card-body">
          <h5 class="card-title">{{ product.name }}</h5>
          <p class="card-text">
            {{ product.name }} ürününü hemen sepete ekleyin
          </p>
          <a href="#" class="btn btn-primary">Add to Cart</a>
        </div>
      </div>

      <ng-template #productDiscontinued>
        <div class="d-flex justify-content-center {{ productCardClass }}">
          <div class="card-body">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text">{{ product.name }} ürünü şuan satılmıyor.</p>
            <a href="#" class="btn btn-primary disabled">Add to Cart</a>
          </div>
        </div>
      </ng-template>
    </ng-template>
  </ng-template>
  <ng-template #noItems>
    <div class="alert alert-primary" role="alert">Ürün bulunamadı.</div>
  </ng-template>


</div>
<nav aria-label="Page navigation">
  <ul class="pagination">
    <li class="page-item"><button class="page-link" (click)="getProductsListWithPagination(pagination - 1)">{{pagination - 1}}</button></li>
    <li class="page-item"><button class="page-link" (click)="getProductsListWithPagination(pagination)">{{pagination}}</button></li>
    <li class="page-item"><button class="page-link" (click)="getProductsListWithPagination(pagination + 1)">{{pagination + 1}}</button></li>
  </ul>
</nav>

